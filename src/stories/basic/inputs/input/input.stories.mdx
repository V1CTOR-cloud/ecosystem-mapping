import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { withChakra } from "../../../../../.storybook/preview";
import InputComponent from "../../../../components/basic/inputs/input/inputComponent/InputComponent";
import { FormControl, FormErrorMessage } from "@chakra-ui/react";
import { useState } from "react";

<Meta
  title="Mapping App/Basic/Input/Input"
  component={InputComponent}
  decorators={[withChakra]}
/>

## Classic input

<Canvas>
  <Story
    name="Classic input"
    args={{
      isRequired: true,
      initialValue: "Initial value",
      placeholder: "Placeholder",
      onChange: ()=>{},
      errorText: "Error text",
    }}
  >
    {(args) => {
      const [isError, setIsError] = useState(false);
      function handleOnChange(value) {
        value === "" && args.isRequired ? setIsError(true) : setIsError(false);
      }
      return <FormControl isInvalid={isError}>
      <InputComponent
        {...args}
        onChange={handleOnChange}
        initialValue={args.initialValue}
      />
      {isError && <FormErrorMessage>{args.errorText}</FormErrorMessage>}
    </FormControl>}}
  </Story>
</Canvas>

<ArgsTable story="Classic input" />